<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<!-- 公共导航条条 -->
<nav  class="side-navbar height-all" th:fragment="navigation">
    <!-- Sidebar Header-->
    <div class="sidebar-header d-flex align-items-center">
        <div class="avatar"><img th:src="@{/plugin/lib/img/avatar-1.jpg}" alt="..." class="img-fluid rounded-circle"></div>
        <div class="title">
            <h1 class="h4" th:text="${session.adminSession.realName}"></h1>
            <p>Web Designer</p>
        </div>
    </div>
    <!-- Sidebar Navidation Menus--><span class="heading">系统菜单</span>
    <ul th:include="this::tree(${session.authorityList})" class="list-unstyled"></ul>
</nav>
<!-- 递归模板 -->
<ul th:fragment="tree(authorityList)">
    <li th:each="authority : ${authorityList}">
        <a th:href="${authority.authorityUrl}" th:unless="!${#lists.isEmpty(authority.childAuthorityList)}">
            <i class="icon-grid"></i><span th:text="${authority.authorityName}"></span>
        </a>
        <a th:href="'#'+${authority.authorityName}"  th:unless="${#lists.isEmpty(authority.childAuthorityList)}"
           aria-expanded="false" data-toggle="collapse">
            <i class="icon-interface-windows"></i><span th:text="${authority.authorityName}"></span>
        </a>
        <ul th:id="${authority.authorityName}"
            th:unless="${#lists.isEmpty(authority.childAuthorityList)}"
            th:include="this::tree(${authority.childAuthorityList})" class="collapse list-unstyled" >
        </ul>
    </li>
</ul>

<!-- Main Navbar-->
<header class="header" th:fragment="header">
    <nav class="navbar">
        <!-- Search Box-->
        <div class="search-box">
            <button class="dismiss"><i class="icon-close"></i></button>
            <form id="searchForm" action="#" role="search">
                <input type="search" placeholder="What are you looking for..." class="form-control">
            </form>
        </div>
        <div class="container-fluid">
            <div class="navbar-holder d-flex align-items-center justify-content-between">
                <!-- Navbar Header-->
                <div class="navbar-header">
                    <!-- Navbar Brand --><a href="/index/index" class="navbar-brand d-none d-sm-inline-block">
                    <div class="brand-text d-none d-lg-inline-block"><span>学习项目</span><strong>主页</strong></div>
                    <div class="brand-text d-none d-sm-inline-block d-lg-none"><strong>BD</strong></div></a>
                    <!-- Toggle Button--><a id="toggle-btn" href="#" class="menu-btn active"><span></span><span></span><span></span></a>
                </div>
                <!-- Navbar Menu -->
                <ul class="nav-menu list-unstyled d-flex flex-md-row align-items-md-center">
                    <!-- Search-->
                    <li class="nav-item d-flex align-items-center"><a id="search" href="#"><i class="icon-search"></i></a></li>
                    <!-- Logout    -->
                    <li class="nav-item">
                        <a href="/logout" class="nav-link logout"> <span class="d-none d-sm-inline">Logout</span><i class="fa fa-sign-out"></i></a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>

<!-- 公共页尾 -->
<footer th:fragment="footer" class="footer">
    <span><i class="fa fa-copyright"></i>xxx公司</span>
</footer>
</html>